{"version":3,"sources":["webpack:///./src/views/receveryday/RecEveryDay.vue?98e9","webpack:///./src/network/receveryday/receveryday.js","webpack:///src/views/receveryday/RecEveryDay.vue","webpack:///./src/views/receveryday/RecEveryDay.vue?3ca1","webpack:///./src/views/receveryday/RecEveryDay.vue","webpack:///./src/components/content/SongTable.vue?c9dd","webpack:///./src/components/content/SongTable.vue?4ad7","webpack:///src/components/content/SongTable.vue","webpack:///./src/components/content/SongTable.vue?2532","webpack:///./src/components/content/SongTable.vue","webpack:///./src/views/receveryday/RecEveryDay.vue?771f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","$store","state","_v","_s","getNowDay","getNowDate","_m","attrs","on","playAll","recsongs","staticRenderFns","getRecSongs","request","url","name","components","SongTable","computed","date","Date","dates","getDate","day","getDay","arr","isLogin","then","res","data","dailySongs","$message","type","message","showClose","center","methods","dispatch","id","document","querySelector","scrollTop","component","staticStyle","songs","tableRowClassName","playMusic","scopedSlots","_u","key","fn","scope","row","nowSongDetail","class","isPlaying","_f","index","likeSongIds","indexOf","$event","likeSong","downloadCurrentMusic","addSong","fee","_e","mv","toMvDetail","toAlbum","al","toSinger","ar","dt","props","Array","islike","currentIndex","filters","length","getUserLikSongs","song","catch","err","userInfo","userId","isArray","ids","like","userSongList","$route","params","likeNowSongBy","$confirm","confirmButtonText","cancelButtonText","confirmButtonClass","$emit","warning","songUrl","downloadMusicInfo","commit","$router","push","rowIndex"],"mappings":"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","file":"js/chunk-7bc2a876.9bcfc3b2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rec-everyday w\"},[(_vm.$store.state.isLogin)?_c('div',{staticClass:\"logined\"},[_c('div',{staticClass:\"hd\"},[_c('div',{staticClass:\"nowdata\"},[_c('div',{staticClass:\"left-date\"},[_c('p',[_vm._v(_vm._s(_vm.getNowDay))]),_c('div',{staticClass:\"nowday\"},[_vm._v(_vm._s(_vm.getNowDate))])]),_vm._m(0)]),_c('div',{staticClass:\"btn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-video-play\"},on:{\"click\":_vm.playAll}},[_vm._v(\"播放全部\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-folder-add\"}},[_vm._v(\"收藏全部\")])],1)]),_c('div',{staticClass:\"bd\"},[_c('SongTable',{attrs:{\"songs\":_vm.recsongs}})],1)]):_c('div',{staticClass:\"nologin\"},[_c('el-empty',{attrs:{\"description\":\"登录后才能查看\",\"image-size\":200}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"right-text\"},[_c('h2',[_vm._v(\"每日歌曲推荐\")]),_c('div',[_vm._v(\"根据你的音乐口味生成，每天6:00更新\")])])}]\n\nexport { render, staticRenderFns }","import {request} from '../request'\n// 获取每日推荐歌曲（要登陆）\nexport function getRecSongs(){\n    return request({\n        url:'/recommend/songs',\n    })\n}\n// 获取每日推荐歌单\nexport function getRecSongList(){\n    return request({\n        url:'/personal_fm',\n    })\n}","<template>\n\t<div class=\"rec-everyday w\">\n\t\t<div class=\"logined\" v-if=\"$store.state.isLogin\">\n\t\t\t<div class=\"hd\">\n\t\t\t\t<div class=\"nowdata\">\n\t\t\t\t\t<div class=\"left-date\">\n\t\t\t\t\t\t<p>{{ getNowDay }}</p>\n\t\t\t\t\t\t<div class=\"nowday\">{{ getNowDate }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"right-text\">\n\t\t\t\t\t\t<h2>每日歌曲推荐</h2>\n\t\t\t\t\t\t<div>根据你的音乐口味生成，每天6:00更新</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"btn\">\n\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-video-play\" @click=\"playAll\">播放全部</el-button>\n\t\t\t\t\t<el-button icon=\"el-icon-folder-add\">收藏全部</el-button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"bd\">\n\t\t\t\t<SongTable :songs=\"recsongs\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"nologin\" v-else>\n\t\t\t<el-empty description=\"登录后才能查看\" :image-size=\"200\"></el-empty>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { getRecSongs } from \"network/receveryday/receveryday\";\nimport { getSongUrl } from \"network/playmusic/playmusic.js\";\nimport SongTable from \"components/content/SongTable.vue\";\nexport default {\n\tname: \"RecEveryDay\",\n\tcomponents: { SongTable },\n\tdata() {\n\t\treturn {\n\t\t\trecsongs: [],\n\t\t};\n\t},\n\tcomputed: {\n\t\tgetNowDate() {\n\t\t\t// 创建日期对象\n\t\t\tvar date = new Date();\n\t\t\tvar dates = date.getDate(); //返回的是几号\n\t\t\treturn dates;\n\t\t},\n\t\tgetNowDay() {\n\t\t\t// 创建日期对象\n\t\t\tvar date = new Date();\n\t\t\tvar day = date.getDay(); // 返回的是0-6，其中0代表星期日\n\t\t\t// 将星期一到星期日存放到数组中 通过返回的数字当做索引号 取出对应的星期几 其中0代表星期日 所以放在第一个位置\n\t\t\tvar arr = [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"];\n\t\t\treturn arr[day];\n\t\t},\n\t},\n\tcreated() {\n\t\tif (!this.$store.state.isLogin) {\n\t\t\tthis.$message({\n\t\t\t\ttype: \"warning\",\n\t\t\t\tmessage: \"登录后才能查看\",\n\t\t\t\tshowClose: true,\n\t\t\t\tcenter: true,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t// 获取每日推荐歌曲\n\t\tgetRecSongs().then(res => {\n\t\t\tthis.recsongs = res.data.data.dailySongs;\n\t\t});\n\t},\n\tmethods: {\n\t\tplayAll() {\n\t\t\tthis.$store.dispatch(\"addAllSong\", this.recsongs);\n\t\t\t//默认播放第一首歌\n\t\t\tgetSongUrl(this.recsongs[0].id).then(res => {\n\t\t\t\tthis.$store.dispatch(\"saveSongUrl\", res.data.data[0].url);\n\t\t\t});\n\t\t\t//提交vuex保存当前歌曲详情\n\t\t\tthis.$store.dispatch(\"saveSongDetail\", this.recsongs[0]);\n\t\t},\n\t},\n\tactivated() {\n\t\tdocument.querySelector(\".view\").scrollTop = 0;\n\t},\n};\n</script>\n\n<style lang=\"less\" scoped>\n.nowdata {\n\tdisplay: flex;\n\t.left-date {\n\t\twidth: 100px;\n\t\theight: 100px;\n\t\tborder: 1px solid #ddd;\n\t\ttext-align: center;\n\t\tp {\n\t\t\tfont-size: 16px;\n\t\t\tpadding: 3px 0;\n\t\t}\n\t\t.nowday {\n\t\t\tfont-size: 52px;\n\t\t\tcolor: var(--themeColor);\n\t\t}\n\t}\n\t.right-text {\n\t\tpadding-left: 20px;\n\t\th2 {\n\t\t\tpadding-bottom: 20px;\n\t\t}\n\t}\n}\n.btn {\n\tmargin: 20px 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecEveryDay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecEveryDay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RecEveryDay.vue?vue&type=template&id=67f4a1ae&scoped=true&\"\nimport script from \"./RecEveryDay.vue?vue&type=script&lang=js&\"\nexport * from \"./RecEveryDay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RecEveryDay.vue?vue&type=style&index=0&id=67f4a1ae&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67f4a1ae\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongTable.vue?vue&type=style&index=0&id=2fedf183&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-table\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.songs,\"empty-text\":\"数据加载中~\",\"row-class-name\":_vm.tableRowClassName},on:{\"row-dblclick\":_vm.playMusic}},[_c('el-table-column',{attrs:{\"width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.id == _vm.nowSongDetail.id)?_c('span',{staticClass:\"iconfont\",class:_vm.isPlaying ? ' icon-voice' : 'icon-jingyin_laba'}):_c('span',[_vm._v(_vm._s(_vm._f(\"formatIndex\")(scope.row.index)))])]}}])}),_c('el-table-column',{attrs:{\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operation\"},[_c('span',{class:_vm.likeSongIds.indexOf(scope.row.id) !== -1 ? 'iconfont icon-xihuan2' : 'iconfont icon-xihuan',attrs:{\"title\":_vm.likeSongIds.indexOf(scope.row.id) !== -1 ? '取消喜欢' : '喜欢'},on:{\"click\":function($event){return _vm.likeSong(scope.row)}}}),_c('span',{staticClass:\"iconfont icon-xiazai\",attrs:{\"title\":\"下载\"},on:{\"click\":function($event){return _vm.downloadCurrentMusic(scope.row)}}}),_c('span',{staticClass:\"el-icon-plus\",attrs:{\"title\":\"添加到播放列表\"},on:{\"click\":function($event){return _vm.addSong(scope.row)}}})])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"歌曲\",\"width\":\"300\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"songname\"},[_vm._v(\" \"+_vm._s(scope.row.name)+\" \"),(scope.row.fee == 1)?_c('i',{staticClass:\"iconfont icon-vip\"}):_vm._e(),(scope.row.mv != 0)?_c('i',{staticClass:\"iconfont icon-mv\",on:{\"click\":function($event){return _vm.toMvDetail(scope.row.mv)}}}):_vm._e()])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"al.name\",\"label\":\"专辑\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"sthover\",on:{\"click\":function($event){return _vm.toAlbum(scope.row.al.id)}}},[_vm._v(\" \"+_vm._s(scope.row.al.name)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"ar[0].name\",\"label\":\"歌手\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"sthover\",on:{\"click\":function($event){return _vm.toSinger(scope.row.ar[0].id)}}},[_vm._v(\" \"+_vm._s(scope.row.ar[0].name)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"dt\",\"label\":\"时长\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatDuration\")(scope.row.dt))+\" \")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"song-table\">\n\t\t<el-table style=\"width: 100%\" :data=\"songs\" empty-text=\"数据加载中~\" @row-dblclick=\"playMusic\" :row-class-name=\"tableRowClassName\">\n\t\t\t<!-- 索引或者小喇叭 -->\n\t\t\t<el-table-column width=\"50\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<span class=\"iconfont\" :class=\"isPlaying ? ' icon-voice' : 'icon-jingyin_laba'\" v-if=\"scope.row.id == nowSongDetail.id\"></span>\n\t\t\t\t\t<span v-else>{{ scope.row.index | formatIndex }}</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<!-- 操作按钮 -->\n\t\t\t<el-table-column width=\"120\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<div class=\"operation\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t@click=\"likeSong(scope.row)\"\n\t\t\t\t\t\t\t:class=\"likeSongIds.indexOf(scope.row.id) !== -1 ? 'iconfont icon-xihuan2' : 'iconfont icon-xihuan'\"\n\t\t\t\t\t\t\t:title=\"likeSongIds.indexOf(scope.row.id) !== -1 ? '取消喜欢' : '喜欢'\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"iconfont icon-xiazai\" @click=\"downloadCurrentMusic(scope.row)\" title=\"下载\"></span>\n\t\t\t\t\t\t<span class=\"el-icon-plus\" @click=\"addSong(scope.row)\" title=\"添加到播放列表\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<!-- 歌曲名和mv图标 -->\n\t\t\t<el-table-column prop=\"name\" label=\"歌曲\" width=\"300\" :show-overflow-tooltip=\"true\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<div class=\"songname\">\n\t\t\t\t\t\t{{ scope.row.name }}\n\t\t\t\t\t\t<i class=\"iconfont icon-vip\" v-if=\"scope.row.fee == 1\"></i>\n\t\t\t\t\t\t<i class=\"iconfont icon-mv\" v-if=\"scope.row.mv != 0\" @click=\"toMvDetail(scope.row.mv)\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<!-- 专辑名 -->\n\t\t\t<el-table-column prop=\"al.name\" label=\"专辑\" :show-overflow-tooltip=\"true\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<span @click=\"toAlbum(scope.row.al.id)\" class=\"sthover\">\n\t\t\t\t\t\t{{ scope.row.al.name }}\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<!-- 歌手名 -->\n\t\t\t<el-table-column prop=\"ar[0].name\" label=\"歌手\" :show-overflow-tooltip=\"true\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<span @click=\"toSinger(scope.row.ar[0].id)\" class=\"sthover\">\n\t\t\t\t\t\t{{ scope.row.ar[0].name }}\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<!-- 时长 -->\n\t\t\t<el-table-column prop=\"dt\" label=\"时长\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ scope.row.dt | formatDuration }}\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\t</div>\n</template>\n\n<script>\nimport { getSongUrl, checkMusic, likeNowSong, getLikSongList } from \"network/playmusic/playmusic.js\";\nimport { mapGetters } from \"vuex\";\nexport default {\n\tname: \"SongTable\",\n\tprops: {\n\t\tsongs: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [];\n\t\t\t},\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tislike: false, //是否喜欢当前歌曲\n\t\t\tcurrentIndex: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapGetters([\"isPlaying\", \"nowSongDetail\", \"isLogin\", \"userInfo\", \"userSongList\", \"likeSongIds\"]),\n\t},\n\tfilters: {\n\t\tformatIndex(index) {\n\t\t\tif (index < 9) {\n\t\t\t\treturn \"0\" + (index + 1);\n\t\t\t} else return index + 1;\n\t\t},\n\t},\n\tcreated() {\n\t\t// 如果没有用户的喜欢列表 就先获取\n\t\tif (this.isLogin && this.likeSongIds.length === 0) {\n\t\t\tthis.getUserLikSongs();\n\t\t}\n\t},\n\tmethods: {\n\t\t//每行歌曲双击播放\n\t\tplayMusic(song) {\n\t\t\t// 先检查歌曲是否可用\n\t\t\tcheckMusic(song.id)\n\t\t\t\t.then(res => {\n\t\t\t\t\t// 获取歌曲url\n\t\t\t\t\tgetSongUrl(song.id).then(res => {\n\t\t\t\t\t\tthis.$store.dispatch(\"saveSongUrl\", res.data.data[0].url);\n\t\t\t\t\t});\n\t\t\t\t\t// 更新播放状态\n\t\t\t\t\tthis.$store.dispatch(\"changePlayState\", true);\n\t\t\t\t\t//提交vuex保存当前歌曲详情\n\t\t\t\t\tthis.$store.dispatch(\"saveSongDetail\", song);\n\t\t\t\t\t// 提交vuex添加到播放列表\n\t\t\t\t\tthis.$store.dispatch(\"addPlayinglist\", song);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: \"暂时无法播放，换首试试\",\n\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\tcenter: true,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\t//获取用户喜欢的音乐id列表\n\t\tgetUserLikSongs() {\n\t\t\tgetLikSongList(this.userInfo.userId).then(res => {\n\t\t\t\tif (Array.isArray(res.data.ids) && res.data.ids.length != 0) {\n\t\t\t\t\tthis.$store.dispatch(\"saveLikeSongIds\", res.data.ids);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//点击喜欢按钮事件\n\t\tlikeSong(song) {\n\t\t\t// 先判断登录状态\n\t\t\tif (!this.$store.state.isLogin) {\n\t\t\t\tthis.$message({\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tmessage: \"登录后才能收藏\",\n\t\t\t\t\tshowClose: true,\n\t\t\t\t\tcenter: true,\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 判断传入参数是喜欢还是不喜欢\n\t\t\tlet like = this.likeSongIds.indexOf(song.id) !== -1 ? false : true;\n\t\t\t// 如果是在用户喜欢的歌单点击的取消喜欢\n\t\t\t// 需要确认并从新获取用户歌单数据\n\t\t\tif (this.userSongList[0].id == this.$route.params.id) {\n\t\t\t\tthis.$confirm(\"确定将选中歌曲从我喜欢的音乐中删除吗?\", \"提示\", {\n\t\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\t\tcancelButtonText: \"取消\",\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tconfirmButtonClass: \"\",\n\t\t\t\t})\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// 如果删除的话就调接口\n\t\t\t\t\t\tthis.likeNowSongBy(song, like);\n\t\t\t\t\t\t// 更新歌单\n\t\t\t\t\t\tthis.$emit(\"updateSonglist\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\terr;\n\t\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 否则不在用户喜欢的歌单 直接调接口\n\t\t\telse {\n\t\t\t\tthis.likeNowSongBy(song, like);\n\t\t\t}\n\t\t},\n\n\t\t/* 网络请求 喜欢/不喜欢歌曲 */\n\t\tlikeNowSongBy(song, like) {\n\t\t\tlikeNowSong(song.id, like)\n\t\t\t\t.then(res => {\n\t\t\t\t\t// 重新获取用户喜欢的歌曲id列表\n\t\t\t\t\tthis.getUserLikSongs();\n\t\t\t\t\tif (like === true) {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: \"已添加到我喜欢的音乐\",\n\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\tcenter: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.islike = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: \"取消喜欢成功\",\n\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\tcenter: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.islike = false;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.$message.warning(\"操作失败,请重试\");\n\t\t\t\t});\n\t\t},\n\n\t\t// 点击下载按钮的回调\n\t\tdownloadCurrentMusic(song) {\n\t\t\tcheckMusic(song.id)\n\t\t\t\t.then(res => {\n\t\t\t\t\t// 获取歌曲url\n\t\t\t\t\tgetSongUrl(song.id).then(res => {\n\t\t\t\t\t\tlet songUrl = res.data.data[0].url;\n\t\t\t\t\t\t// 下载的歌曲信息\n\t\t\t\t\t\tlet downloadMusicInfo = {\n\t\t\t\t\t\t\turl: songUrl,\n\t\t\t\t\t\t\tname: song.name + \" - \" + song.ar[0].name,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.$store.commit(\"updateDownloadMusicInfo\", downloadMusicInfo);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: \"暂无版权，无法下载\",\n\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\tcenter: true,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\t// 点击添加按钮\n\t\taddSong(song) {\n\t\t\t// 提交vuex添加到播放列表\n\t\t\tthis.$store.dispatch(\"addPlayinglist\", song);\n\t\t\tthis.$message({\n\t\t\t\tmessage: \"已添加到播放列表\",\n\t\t\t\ttype: \"success\",\n\t\t\t\tcenter: true,\n\t\t\t});\n\t\t},\n\t\t// 点击歌手 去往歌手页面\n\t\ttoSinger(id) {\n\t\t\tthis.$router.push(\"/singerdetail/\" + id);\n\t\t},\n\t\t// 去往专辑页面\n\t\ttoAlbum(id) {\n\t\t\tthis.$router.push(\"/albumdetail/\" + id);\n\t\t},\n\t\t// 去往MV页面\n\t\ttoMvDetail(id) {\n\t\t\tthis.$router.push({\n\t\t\t\tname: \"VideoDetail\",\n\t\t\t\tparams: { id, type: \"mv\" },\n\t\t\t});\n\t\t},\n\t\t// 实现当前播放歌曲行显示小喇叭\n\t\ttableRowClassName({ row, rowIndex }) {\n\t\t\trow.index = rowIndex;\n\t\t\tif (rowIndex % 2 !== 0) {\n\t\t\t\treturn \"rowEven\";\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"less\" scoped>\n.operation {\n\t.icon-xihuan,\n\t.el-icon-plus {\n\t\tfont-size: 15px;\n\t\tcolor: #999;\n\t\tfont-weight: 700;\n\t}\n\t.icon-xihuan2 {\n\t\tfont-size: 16px;\n\t\tcolor: var(--themeColor);\n\t}\n\t.icon-xiazai {\n\t\tfont-weight: 700;\n\t\tcolor: #999;\n\t}\n\t.icon-xihuan,\n\t.icon-xihuan2,\n\t.icon-xiazai {\n\t\tdisplay: inline-block;\n\t\twidth: 30px;\n\t}\n\n\tspan {\n\t\tcursor: pointer;\n\t\t&:hover {\n\t\t\tcolor: var(--themeColor);\n\t\t}\n\t}\n}\n.icon-voice,\n.icon-jingyin_laba {\n\tcolor: var(--themeColor);\n}\n.icon-mv {\n\tfont-size: 22px;\n\tcolor: var(--themeColor);\n\tcursor: pointer;\n\tpadding-left: 5px;\n}\n.icon-vip {\n\tcolor: var(--themeColor);\n\tfont-size: 18px;\n\tfont-weight: 400;\n\tpadding-left: 5px;\n}\n.sthover:hover {\n\tdisplay: inline-block;\n\tcolor: var(--themeColor);\n\twidth: 100%;\n\tcursor: pointer;\n}\n.no {\n\twidth: 100%;\n\ttext-align: center;\n\tfont-size: 24px;\n\tfont-weight: 700;\n}\n.confirmButtonClass {\n\tbackground-color: var(--themeColor) !important;\n\tborder-color: var(--themeColor) !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongTable.vue?vue&type=template&id=2fedf183&scoped=true&\"\nimport script from \"./SongTable.vue?vue&type=script&lang=js&\"\nexport * from \"./SongTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongTable.vue?vue&type=style&index=0&id=2fedf183&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fedf183\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RecEveryDay.vue?vue&type=style&index=0&id=67f4a1ae&lang=less&scoped=true&\""],"sourceRoot":""}