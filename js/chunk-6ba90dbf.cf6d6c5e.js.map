{"version":3,"sources":["webpack:///./src/components/content/SongTable.vue?c9dd","webpack:///./src/components/content/SongTable.vue?520b","webpack:///src/components/content/SongTable.vue","webpack:///./src/components/content/SongTable.vue?2532","webpack:///./src/components/content/SongTable.vue","webpack:///./src/views/searchdetail/Childcomps/SongRes.vue?f164","webpack:///src/views/searchdetail/Childcomps/SongRes.vue","webpack:///./src/views/searchdetail/Childcomps/SongRes.vue?1f3b","webpack:///./src/views/searchdetail/Childcomps/SongRes.vue","webpack:///./src/views/searchdetail/Childcomps/SongRes.vue?f8ab"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","songs","tableRowClassName","on","playMusic","scopedSlots","_u","key","fn","scope","row","id","nowSongDetail","class","isPlaying","_v","_s","_f","index","likeSongIds","indexOf","$event","likeSong","downloadCurrentMusic","addSong","name","fee","_e","mv","toMvDetail","toAlbum","al","toSinger","ar","dt","staticRenderFns","props","type","Array","islike","currentIndex","computed","filters","isLogin","length","getUserLikSongs","methods","song","then","res","$store","dispatch","data","url","catch","err","$message","message","center","userInfo","userId","isArray","ids","state","showClose","like","userSongList","$route","params","likeNowSongBy","$confirm","confirmButtonText","cancelButtonText","confirmButtonClass","$emit","warning","songUrl","downloadMusicInfo","commit","$router","push","rowIndex","component","keywords","songResCount","Object","keys","matchSinger","matchAlbum","goSingerdetail","directives","rawName","value","expression","goAlbumdetail","songRes","getSearchSongBy","components","SongTable","getGoodMatchBy","page","offset","result","songCount","artist","album"],"mappings":"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","file":"js/chunk-6ba90dbf.cf6d6c5e.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongTable.vue?vue&type=style&index=0&id=2fedf183&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-table\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.songs,\"empty-text\":\"数据加载中~\",\"row-class-name\":_vm.tableRowClassName},on:{\"row-dblclick\":_vm.playMusic}},[_c('el-table-column',{attrs:{\"width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.id == _vm.nowSongDetail.id)?_c('span',{staticClass:\"iconfont\",class:_vm.isPlaying ? ' icon-voice' : 'icon-jingyin_laba'}):_c('span',[_vm._v(_vm._s(_vm._f(\"formatIndex\")(scope.row.index)))])]}}])}),_c('el-table-column',{attrs:{\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operation\"},[_c('span',{class:_vm.likeSongIds.indexOf(scope.row.id) !== -1 ? 'iconfont icon-xihuan2' : 'iconfont icon-xihuan',attrs:{\"title\":_vm.likeSongIds.indexOf(scope.row.id) !== -1 ? '取消喜欢' : '喜欢'},on:{\"click\":function($event){return _vm.likeSong(scope.row)}}}),_c('span',{staticClass:\"iconfont icon-xiazai\",attrs:{\"title\":\"下载\"},on:{\"click\":function($event){return _vm.downloadCurrentMusic(scope.row)}}}),_c('span',{staticClass:\"el-icon-plus\",attrs:{\"title\":\"添加到播放列表\"},on:{\"click\":function($event){return _vm.addSong(scope.row)}}})])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"歌曲\",\"width\":\"300\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"songname\"},[_vm._v(\" \"+_vm._s(scope.row.name)+\" \"),(scope.row.fee == 1)?_c('i',{staticClass:\"iconfont icon-vip\"}):_vm._e(),(scope.row.mv != 0)?_c('i',{staticClass:\"iconfont icon-mv\",on:{\"click\":function($event){return _vm.toMvDetail(scope.row.mv)}}}):_vm._e()])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"al.name\",\"label\":\"专辑\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"sthover\",on:{\"click\":function($event){return _vm.toAlbum(scope.row.al.id)}}},[_vm._v(\" \"+_vm._s(scope.row.al.name)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"ar[0].name\",\"label\":\"歌手\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"sthover\",on:{\"click\":function($event){return _vm.toSinger(scope.row.ar[0].id)}}},[_vm._v(\" \"+_vm._s(scope.row.ar[0].name)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"dt\",\"label\":\"时长\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatDuration\")(scope.row.dt))+\" \")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"song-table\">\n\t\t<el-table style=\"width: 100%\" :data=\"songs\" empty-text=\"数据加载中~\" @row-dblclick=\"playMusic\" :row-class-name=\"tableRowClassName\">\n\t\t\t<!-- 索引或者小喇叭 -->\n\t\t\t<el-table-column width=\"50\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<span class=\"iconfont\" :class=\"isPlaying ? ' icon-voice' : 'icon-jingyin_laba'\" v-if=\"scope.row.id == nowSongDetail.id\"></span>\n\t\t\t\t\t<span v-else>{{ scope.row.index | formatIndex }}</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<!-- 操作按钮 -->\n\t\t\t<el-table-column width=\"120\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<div class=\"operation\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t@click=\"likeSong(scope.row)\"\n\t\t\t\t\t\t\t:class=\"likeSongIds.indexOf(scope.row.id) !== -1 ? 'iconfont icon-xihuan2' : 'iconfont icon-xihuan'\"\n\t\t\t\t\t\t\t:title=\"likeSongIds.indexOf(scope.row.id) !== -1 ? '取消喜欢' : '喜欢'\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"iconfont icon-xiazai\" @click=\"downloadCurrentMusic(scope.row)\" title=\"下载\"></span>\n\t\t\t\t\t\t<span class=\"el-icon-plus\" @click=\"addSong(scope.row)\" title=\"添加到播放列表\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<!-- 歌曲名和mv图标 -->\n\t\t\t<el-table-column prop=\"name\" label=\"歌曲\" width=\"300\" :show-overflow-tooltip=\"true\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<div class=\"songname\">\n\t\t\t\t\t\t{{ scope.row.name }}\n\t\t\t\t\t\t<i class=\"iconfont icon-vip\" v-if=\"scope.row.fee == 1\"></i>\n\t\t\t\t\t\t<i class=\"iconfont icon-mv\" v-if=\"scope.row.mv != 0\" @click=\"toMvDetail(scope.row.mv)\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<!-- 专辑名 -->\n\t\t\t<el-table-column prop=\"al.name\" label=\"专辑\" :show-overflow-tooltip=\"true\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<span @click=\"toAlbum(scope.row.al.id)\" class=\"sthover\">\n\t\t\t\t\t\t{{ scope.row.al.name }}\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<!-- 歌手名 -->\n\t\t\t<el-table-column prop=\"ar[0].name\" label=\"歌手\" :show-overflow-tooltip=\"true\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<span @click=\"toSinger(scope.row.ar[0].id)\" class=\"sthover\">\n\t\t\t\t\t\t{{ scope.row.ar[0].name }}\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t\t<!-- 时长 -->\n\t\t\t<el-table-column prop=\"dt\" label=\"时长\">\n\t\t\t\t<template v-slot=\"scope\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ scope.row.dt | formatDuration }}\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\t</div>\n</template>\n\n<script>\nimport { getSongUrl, checkMusic, likeNowSong, getLikSongList } from \"network/playmusic/playmusic.js\";\nimport { mapGetters } from \"vuex\";\nexport default {\n\tname: \"SongTable\",\n\tprops: {\n\t\tsongs: {\n\t\t\ttype: Array,\n\t\t\tdefault() {\n\t\t\t\treturn [];\n\t\t\t},\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tislike: false, //是否喜欢当前歌曲\n\t\t\tcurrentIndex: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapGetters([\"isPlaying\", \"nowSongDetail\", \"isLogin\", \"userInfo\", \"userSongList\", \"likeSongIds\"]),\n\t},\n\tfilters: {\n\t\tformatIndex(index) {\n\t\t\tif (index < 9) {\n\t\t\t\treturn \"0\" + (index + 1);\n\t\t\t} else return index + 1;\n\t\t},\n\t},\n\tcreated() {\n\t\t// 如果没有用户的喜欢列表 就先获取\n\t\tif (this.isLogin && this.likeSongIds.length === 0) {\n\t\t\tthis.getUserLikSongs();\n\t\t}\n\t},\n\tmethods: {\n\t\t//每行歌曲双击播放\n\t\tplayMusic(song) {\n\t\t\t// 先检查歌曲是否可用\n\t\t\tcheckMusic(song.id)\n\t\t\t\t.then(res => {\n\t\t\t\t\t// 获取歌曲url\n\t\t\t\t\tgetSongUrl(song.id).then(res => {\n\t\t\t\t\t\tthis.$store.dispatch(\"saveSongUrl\", res.data.data[0].url);\n\t\t\t\t\t});\n\t\t\t\t\t// 更新播放状态\n\t\t\t\t\tthis.$store.dispatch(\"changePlayState\", true);\n\t\t\t\t\t//提交vuex保存当前歌曲详情\n\t\t\t\t\tthis.$store.dispatch(\"saveSongDetail\", song);\n\t\t\t\t\t// 提交vuex添加到播放列表\n\t\t\t\t\tthis.$store.dispatch(\"addPlayinglist\", song);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: \"暂时无法播放，换首试试\",\n\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\tcenter: true,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\t//获取用户喜欢的音乐id列表\n\t\tgetUserLikSongs() {\n\t\t\tgetLikSongList(this.userInfo.userId).then(res => {\n\t\t\t\tif (Array.isArray(res.data.ids) && res.data.ids.length != 0) {\n\t\t\t\t\tthis.$store.dispatch(\"saveLikeSongIds\", res.data.ids);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//点击喜欢按钮事件\n\t\tlikeSong(song) {\n\t\t\t// 先判断登录状态\n\t\t\tif (!this.$store.state.isLogin) {\n\t\t\t\tthis.$message({\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tmessage: \"登录后才能收藏\",\n\t\t\t\t\tshowClose: true,\n\t\t\t\t\tcenter: true,\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 判断传入参数是喜欢还是不喜欢\n\t\t\tlet like = this.likeSongIds.indexOf(song.id) !== -1 ? false : true;\n\t\t\t// 如果是在用户喜欢的歌单点击的取消喜欢\n\t\t\t// 需要确认并从新获取用户歌单数据\n\t\t\tif (this.userSongList[0].id == this.$route.params.id) {\n\t\t\t\tthis.$confirm(\"确定将选中歌曲从我喜欢的音乐中删除吗?\", \"提示\", {\n\t\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\t\tcancelButtonText: \"取消\",\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tconfirmButtonClass: \"\",\n\t\t\t\t})\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// 如果删除的话就调接口\n\t\t\t\t\t\tthis.likeNowSongBy(song, like);\n\t\t\t\t\t\t// 更新歌单\n\t\t\t\t\t\tthis.$emit(\"updateSonglist\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\terr;\n\t\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// 否则不在用户喜欢的歌单 直接调接口\n\t\t\telse {\n\t\t\t\tthis.likeNowSongBy(song, like);\n\t\t\t}\n\t\t},\n\n\t\t/* 网络请求 喜欢/不喜欢歌曲 */\n\t\tlikeNowSongBy(song, like) {\n\t\t\tlikeNowSong(song.id, like)\n\t\t\t\t.then(res => {\n\t\t\t\t\t// 重新获取用户喜欢的歌曲id列表\n\t\t\t\t\tthis.getUserLikSongs();\n\t\t\t\t\tif (like === true) {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: \"已添加到我喜欢的音乐\",\n\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\tcenter: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.islike = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: \"取消喜欢成功\",\n\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\tcenter: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.islike = false;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.$message.warning(\"操作失败,请重试\");\n\t\t\t\t});\n\t\t},\n\n\t\t// 点击下载按钮的回调\n\t\tdownloadCurrentMusic(song) {\n\t\t\tcheckMusic(song.id)\n\t\t\t\t.then(res => {\n\t\t\t\t\t// 获取歌曲url\n\t\t\t\t\tgetSongUrl(song.id).then(res => {\n\t\t\t\t\t\tlet songUrl = res.data.data[0].url;\n\t\t\t\t\t\t// 下载的歌曲信息\n\t\t\t\t\t\tlet downloadMusicInfo = {\n\t\t\t\t\t\t\turl: songUrl,\n\t\t\t\t\t\t\tname: song.name + \" - \" + song.ar[0].name,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.$store.commit(\"updateDownloadMusicInfo\", downloadMusicInfo);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: \"暂无版权，无法下载\",\n\t\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\t\tcenter: true,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\t// 点击添加按钮\n\t\taddSong(song) {\n\t\t\t// 提交vuex添加到播放列表\n\t\t\tthis.$store.dispatch(\"addPlayinglist\", song);\n\t\t\tthis.$message({\n\t\t\t\tmessage: \"已添加到播放列表\",\n\t\t\t\ttype: \"success\",\n\t\t\t\tcenter: true,\n\t\t\t});\n\t\t},\n\t\t// 点击歌手 去往歌手页面\n\t\ttoSinger(id) {\n\t\t\tthis.$router.push(\"/singerdetail/\" + id);\n\t\t},\n\t\t// 去往专辑页面\n\t\ttoAlbum(id) {\n\t\t\tthis.$router.push(\"/albumdetail/\" + id);\n\t\t},\n\t\t// 去往MV页面\n\t\ttoMvDetail(id) {\n\t\t\tthis.$router.push({\n\t\t\t\tname: \"VideoDetail\",\n\t\t\t\tparams: { id, type: \"mv\" },\n\t\t\t});\n\t\t},\n\t\t// 实现当前播放歌曲行显示小喇叭\n\t\ttableRowClassName({ row, rowIndex }) {\n\t\t\trow.index = rowIndex;\n\t\t\tif (rowIndex % 2 !== 0) {\n\t\t\t\treturn \"rowEven\";\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"less\" scoped>\n.operation {\n\t.icon-xihuan,\n\t.el-icon-plus {\n\t\tfont-size: 15px;\n\t\tcolor: #999;\n\t\tfont-weight: 700;\n\t}\n\t.icon-xihuan2 {\n\t\tfont-size: 16px;\n\t\tcolor: var(--themeColor);\n\t}\n\t.icon-xiazai {\n\t\tfont-weight: 700;\n\t\tcolor: #999;\n\t}\n\t.icon-xihuan,\n\t.icon-xihuan2,\n\t.icon-xiazai {\n\t\tdisplay: inline-block;\n\t\twidth: 30px;\n\t}\n\n\tspan {\n\t\tcursor: pointer;\n\t\t&:hover {\n\t\t\tcolor: var(--themeColor);\n\t\t}\n\t}\n}\n.icon-voice,\n.icon-jingyin_laba {\n\tcolor: var(--themeColor);\n}\n.icon-mv {\n\tfont-size: 22px;\n\tcolor: var(--themeColor);\n\tcursor: pointer;\n\tpadding-left: 5px;\n}\n.icon-vip {\n\tcolor: var(--themeColor);\n\tfont-size: 18px;\n\tfont-weight: 400;\n\tpadding-left: 5px;\n}\n.sthover:hover {\n\tdisplay: inline-block;\n\tcolor: var(--themeColor);\n\twidth: 100%;\n\tcursor: pointer;\n}\n.no {\n\twidth: 100%;\n\ttext-align: center;\n\tfont-size: 24px;\n\tfont-weight: 700;\n}\n.confirmButtonClass {\n\tbackground-color: var(--themeColor) !important;\n\tborder-color: var(--themeColor) !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongTable.vue?vue&type=template&id=2fedf183&scoped=true&\"\nimport script from \"./SongTable.vue?vue&type=script&lang=js&\"\nexport * from \"./SongTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongTable.vue?vue&type=style&index=0&id=2fedf183&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fedf183\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-res\"},[_c('div',{staticClass:\"result\"},[_c('h3',[_vm._v(\" 搜索\"),_c('span',[_vm._v(_vm._s(this.keywords))]),_vm._v(\",找到\"+_vm._s(_vm.songResCount)+\"首单曲 \")]),(Object.keys(_vm.matchSinger).length !== 0 || Object.keys(_vm.matchAlbum).length !== 0)?_c('div',{staticClass:\"match\"},[_c('h3',[_vm._v(\"最佳匹配\")]),_c('div',{staticClass:\"goodMatch\"},[(Object.keys(_vm.matchSinger).length !== 0)?_c('div',{staticClass:\"matchitem\",on:{\"click\":_vm.goSingerdetail}},[_c('div',{staticClass:\"cover\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.matchSinger.img1v1Url),expression:\"matchSinger.img1v1Url\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"iname\"},[_c('span',[_vm._v(\"歌手：\"+_vm._s(_vm.matchSinger.name))]),_c('span',{staticClass:\"iconfont icon-xiayiye\"})])]):_vm._e(),(Object.keys(_vm.matchAlbum).length !== 0)?_c('div',{staticClass:\"matchitem\",on:{\"click\":_vm.goAlbumdetail}},[_c('div',{staticClass:\"cover\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.matchAlbum.picUrl),expression:\"matchAlbum.picUrl\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"iname\"},[_c('span',[_vm._v(\"专辑：\"+_vm._s(_vm.matchAlbum.name))]),_c('span',{staticClass:\"iconfont icon-xiayiye\"})])]):_vm._e()])]):_vm._e()]),_c('SongTable',{attrs:{\"songs\":_vm.songRes}}),_c('Pagination',{attrs:{\"total\":_vm.songResCount,\"page-size\":50},on:{\"handleCurrentChange\":_vm.getSearchSongBy}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"song-res\">\n\t\t<div class=\"result\">\n\t\t\t<h3>\n\t\t\t\t搜索<span>{{ this.keywords }}</span\n\t\t\t\t>,找到{{ songResCount }}首单曲\n\t\t\t</h3>\n\t\t\t<div class=\"match\" v-if=\"Object.keys(matchSinger).length !== 0 || Object.keys(matchAlbum).length !== 0\">\n\t\t\t\t<h3>最佳匹配</h3>\n\t\t\t\t<div class=\"goodMatch\">\n\t\t\t\t\t<div class=\"matchitem\" @click=\"goSingerdetail\" v-if=\"Object.keys(matchSinger).length !== 0\">\n\t\t\t\t\t\t<div class=\"cover\">\n\t\t\t\t\t\t\t<img v-lazy=\"matchSinger.img1v1Url\" alt=\"\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"iname\">\n\t\t\t\t\t\t\t<span>歌手：{{ matchSinger.name }}</span>\n\t\t\t\t\t\t\t<span class=\"iconfont icon-xiayiye\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"matchitem\" @click=\"goAlbumdetail\" v-if=\"Object.keys(matchAlbum).length !== 0\">\n\t\t\t\t\t\t<div class=\"cover\">\n\t\t\t\t\t\t\t<img v-lazy=\"matchAlbum.picUrl\" alt=\"\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"iname\">\n\t\t\t\t\t\t\t<span>专辑：{{ matchAlbum.name }}</span>\n\t\t\t\t\t\t\t<span class=\"iconfont icon-xiayiye\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<SongTable :songs=\"songRes\" />\n\t\t<Pagination :total=\"songResCount\" :page-size=\"50\" @handleCurrentChange=\"getSearchSongBy\"/>\n\t</div>\n</template>\n\n<script>\n/* 网络请求 */\nimport { getSearchSong, getGoodMatch } from \"network/searchdetail/searchdeatil\";\nimport SongTable from \"components/content/SongTable.vue\";\nexport default {\n\tname: \"SongRes\",\n\tcomponents: { SongTable},\n\tdata() {\n\t\treturn {\n\t\t\tkeywords: \"\", //关键词\n\t\t\tsongRes: [], //单曲\n\t\t\tsongResCount: 0,\n\t\t\tmatchSinger: {}, //最佳匹配歌手\n\t\t\tmatchAlbum: {},\n\t\t};\n\t},\n\n\tcreated() {\n\t\t// 保存搜索的关键词\n\t\tthis.keywords = this.$route.params.keywords;\n\t\t// 获取搜索歌曲列表\n\t\tthis.getSearchSongBy();\n\t\t// 获取最佳匹配结果\n\t\tthis.getGoodMatchBy();\n\t},\n\tmethods: {\n\t\t/* \n    网络请求\n    */\n\t\t// 获取搜索歌曲列表\n\t\tgetSearchSongBy(page = 1) {\n\t\t\tlet offset = (page - 1) * 50;\n\t\t\tgetSearchSong(this.keywords, offset).then(res => {\n\t\t\t\tthis.songRes = res.data.result.songs;\n\t\t\t\tthis.songResCount = res.data.result.songCount;\n\t\t\t});\n\t\t},\n\t\t// 获取最佳匹配结果\n\t\tgetGoodMatchBy() {\n\t\t\tgetGoodMatch(this.keywords)\n\t\t\t\t.then(res => {\n\t\t\t\t\t// console.log(res);\n\t\t\t\t\tthis.matchSinger = res.data.result.artist[0];\n\t\t\t\t\tthis.matchAlbum = res.data.result.album[0];\n\t\t\t\t})\n\t\t\t\t.catch(err => err);\n\t\t},\n\n\t\t/* \n    事件监听\n    */\n\t\t// 分页事件\n\t\t// changSongPage(page) {\n\t\t// \tthis.getSearchSongBy(page);\n\t\t// },\n\n\t\t// 最佳匹配事件\n\t\tgoSingerdetail() {\n\t\t\tthis.$router.push(\"/singerdetail/\" + this.matchSinger.id);\n\t\t},\n\t\tgoAlbumdetail() {\n\t\t\tthis.$router.push(\"/albumdetail/\" + this.matchAlbum.id);\n\t\t},\n\t},\n};\n</script>\n<style lang=\"less\" scoped>\n.result {\n\tpadding: 10px 15px;\n\th3 {\n\t\tpadding-bottom: 10px;\n\t}\n}\n.goodMatch {\n\tpadding: 5px 0;\n\tdisplay: flex;\n\tcursor: pointer;\n\t.matchitem {\n\t\twidth: 20%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-right: 20px;\n\t\tborder: 1px solid #dddddd;\n\t\t&:hover {\n\t\t\tfont-weight: 700;\n\t\t}\n\t\t.cover {\n\t\t\tflex: 1;\n\t\t\timg {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t\t.iname {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tflex: 2;\n\t\t\theight: 100%;\n\t\t\tpadding: 0 5px;\n\t\t\tbackground: #f5f5f5;\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongRes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongRes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongRes.vue?vue&type=template&id=75ffe068&scoped=true&\"\nimport script from \"./SongRes.vue?vue&type=script&lang=js&\"\nexport * from \"./SongRes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongRes.vue?vue&type=style&index=0&id=75ffe068&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75ffe068\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongRes.vue?vue&type=style&index=0&id=75ffe068&lang=less&scoped=true&\""],"sourceRoot":""}