(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53f59ad9"],{"18f1":function(t,i,e){"use strict";e("6a23")},2228:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"video"},[t.$store.state.isLogin?e("div",{staticClass:"logined"},[e("TagsNav",{attrs:{"all-tag":t.allTag,"hot-tag":t.hotTag},on:{tagClick:t.tagClick}}),0!=t.videoList.length?e("div",{staticClass:"video-list"},[e("VideoList",{attrs:{videolist:t.videoList}})],1):e("div",{staticClass:"novideo"},[e("el-empty",{attrs:{description:"暂无视频","image-size":200}})],1)],1):t._e(),t.$store.state.isLogin?t._e():e("div",{staticClass:"nologin"},[e("el-empty",{attrs:{description:"登录后才能查看","image-size":200}})],1)])},a=[],o=e("3d40"),n=e("7ccb"),r=e("def2"),l={name:"Video",components:{TagsNav:n["a"],VideoList:r["a"]},data(){return{allTag:[],hotTag:[],videoList:[{}],tagId:"",offset:0}},created(){this.$store.state.isLogin?(this.geAllVideoTagsBy(),this.geHotVideoTagsBy()):this.$message({type:"warning",message:"登录后才能查看",showClose:!0,center:!0})},methods:{geAllVideoTagsBy(){Object(o["a"])().then(t=>{this.allTag=t.data.data})},geHotVideoTagsBy(){Object(o["b"])().then(t=>{this.hotTag=t.data.data,this.tagId=this.hotTag[0].id,this.getGroupVideoListBy(this.tagId)})},getGroupVideoListBy(t){Object(o["d"])(t,this.offset).then(t=>{t.data.hasmore&&(this.videoList.push(...t.data.datas),this.offset+=1,this.offset<4&&this.getGroupVideoListBy(this.tagId))})},tagClick(t,i){this.offset=0,this.videoList=[],this.tagId=i,this.getGroupVideoListBy(i)},more(){let t=document.querySelector(".view");Math.ceil(t.scrollTop)+t.clientHeight>=t.scrollHeight&&this.getGroupVideoListBy(this.tagId)}},activated(){document.querySelector(".view").addEventListener("scroll",this.more)},deactivated(){document.querySelector(".view").removeEventListener("scroll",this.more)}},d=l,c=(e("18f1"),e("2877")),u=Object(c["a"])(d,s,a,!1,null,"18296db1",null);i["default"]=u.exports},"24d0":function(t,i,e){"use strict";e("380f")},"325a":function(t,i,e){"use strict";e("8da1")},"380f":function(t,i,e){},"3d40":function(t,i,e){"use strict";e.d(i,"c",(function(){return a})),e.d(i,"e",(function(){return o})),e.d(i,"h",(function(){return n})),e.d(i,"g",(function(){return r})),e.d(i,"n",(function(){return l})),e.d(i,"a",(function(){return d})),e.d(i,"b",(function(){return c})),e.d(i,"d",(function(){return u})),e.d(i,"j",(function(){return m})),e.d(i,"i",(function(){return v})),e.d(i,"l",(function(){return h})),e.d(i,"o",(function(){return p})),e.d(i,"m",(function(){return f})),e.d(i,"k",(function(){return g})),e.d(i,"f",(function(){return w}));var s=e("1bab");function a(t,i,e,a,o){return Object(s["b"])({url:"/mv/all",params:{area:t,type:i,order:e,offset:a,limit:o}})}function o(t){return Object(s["b"])({url:"/mv/detail",params:{mvid:t}})}function n(t){return Object(s["b"])({url:"/simi/mv",params:{mvid:t}})}function r(t){return Object(s["b"])({url:"/mv/url",params:{id:t}})}function l(t,i){return Object(s["b"])({url:"/mv/sub",params:{t:t,mvid:i,timestamp:Date.parse(new Date)}})}function d(){return Object(s["b"])({url:"/video/group/list"})}function c(){return Object(s["b"])({url:"/video/category/list"})}function u(t,i){return Object(s["b"])({url:"/video/group",params:{id:t,offset:i}})}function m(t){return Object(s["b"])({url:"/video/detail",params:{id:t}})}function v(t){return Object(s["b"])({url:"/related/allvideo",params:{id:t}})}function h(t){return Object(s["b"])({url:"/video/url",params:{id:t}})}function p(t,i){return Object(s["b"])({url:"/video/sub",params:{t:t,id:i,timestamp:Date.parse(new Date)}})}function f(t,i,e){return Object(s["b"])({url:"/resource/like",params:{t:t,type:i,id:e,timestamp:Date.parse(new Date)}})}function g(t){return Object(s["b"])({url:"/video/detail/info",params:{vid:t,timestamp:Date.parse(new Date)}})}function w(t){return Object(s["b"])({url:"/mv/detail/info",params:{mvid:t,timestamp:Date.parse(new Date)}})}},"4c13":function(t,i,e){},"6a23":function(t,i,e){},"7ccb":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return 0!==t.allTag.length||0!==t.hotTag.length?e("div",{staticClass:"tags-nav"},[e("div",{staticClass:"tags"},[e("div",{ref:"alltaglist",staticClass:"all",on:{click:t.showAllTag}},[e("span",[t._v(t._s(t.tagTitle)+" "),e("i",{staticClass:"el-icon-arrow-down"})])]),e("transition",{attrs:{name:"el-fade-in"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"all-tag-list"},[e("div",{staticClass:"all-tag"},t._l(t.allTag,(function(i,s){return e("div",{key:s,staticClass:"all-tag-item",on:{click:function(e){return t.tagClickA(i.name,s,i.id)}}},[e("span",{class:{activeAll:t.currentIndexA==s}},[t._v(t._s(i.name))])])})),0)])]),e("div",{staticClass:"hot-tag"},t._l(t.hotTag,(function(i,s){return e("div",{key:s,staticClass:"hot-tag-item",class:{activeHot:t.currentIndexH==s},on:{click:function(e){return t.tagClickH(i.name,s,i.id)}}},[t._v(" "+t._s(i.name)+" ")])})),0)],1)]):t._e()},a=[],o={name:"TagsNav",props:{allTag:{type:Array,default(){return[]}},hotTag:{type:Array,default(){return[]}}},data(){return{isShow:!1,tagTitle:"全部分类",currentIndexA:null,currentIndexH:0}},methods:{showAllTag(){this.isShow=!this.isShow},tagClickA(t,i,e){this.currentIndexA=i,this.$emit("tagClick",t,e);let s=this.hotTag.findIndex(i=>i.name==t);this.currentIndexH=s,this.tagTitle=t},tagClickH(t,i,e){this.currentIndexH=i,this.$emit("tagClick",t,e);let s=this.allTag.findIndex(i=>i.name==t);this.currentIndexA=-1==s?null:s,this.tagTitle=t}},mounted(){document.addEventListener("mouseup",t=>{let i=this.$refs.alltaglist;i&&(i.contains(t.target)||(this.isShow=!1))})}},n=o,r=(e("bcd9"),e("2877")),l=Object(r["a"])(n,s,a,!1,null,"7978fc36",null);i["a"]=l.exports},"8da1":function(t,i,e){},bcd9:function(t,i,e){"use strict";e("4c13")},def2:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"video-list"},t._l(t.videolist,(function(t,i){return e("video-list-item",{key:i,attrs:{videolistitem:t}})})),1)},a=[],o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"video-list-item",on:{click:t.videoItemClick}},[e("div",{staticClass:"item-img",on:{mouseenter:t.showIcon,mouseleave:t.closeIcon}},[e("img",{attrs:{src:t.showImg,alt:""}}),e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlay,expression:"isShowPlay"}],staticClass:"mask-playicon"},[e("span",{staticClass:"iconfont icon-play"})])]),e("transition",{attrs:{name:"el-zoom-in-top"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowIcon,expression:"isShowIcon"}],staticClass:"play-icon"},[e("span",{staticClass:"iconfont icon-play-square"}),e("span",[t._v(t._s(t._f("formatNum")(t.videolistitem.playCount||t.videolistitem.playTime||t.videolistitem.data.playTime||t.videolistitem.data.playCount)))])])]),e("transition",{attrs:{name:"el-zoom-in-bottom"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowIcon,expression:"isShowIcon"}],staticClass:"playduration"},[e("span",[t._v(t._s(t._f("formatDuration")(t.videolistitem.duration||t.videolistitem.durationms||t.videolistitem.data.durationms||t.videolistitem.data.duration)))])])])],1),e("div",{staticClass:"item-text"},[e("div",{staticClass:"twoLine"},[t._v(" "+t._s(t.videolistitem.name||t.videolistitem.title||t.videolistitem.data.title||t.videolistitem.data.name)+" ")]),e("div",{staticClass:"by"},[t._v("by"+t._s(t.showAuthor))])])])},n=[],r={name:"VideoListItem",props:{videolistitem:{type:Object,default(){return{}}}},data(){return{isShowIcon:!0,isShowPlay:!1}},computed:{showImg(){return this.videolistitem.cover||this.videolistitem.imgurl16v9||this.videolistitem.picUrl||this.videolistitem.coverUrl||this.videolistitem.data.coverUrl},showAuthor(){return this.videolistitem.id?this.videolistitem.artistName:this.videolistitem.data?this.videolistitem.data.artists?this.videolistitem.data.artists[0].name:this.videolistitem.data.creator.nickname:this.videolistitem.vid?this.videolistitem.creator[0].userName:void 0}},methods:{showIcon(){this.isShowIcon=!1,this.isShowPlay=!0},closeIcon(){this.isShowIcon=!0,this.isShowPlay=!1},videoItemClick(){this.videolistitem.data?0==this.videolistitem.data.videoGroup[0].type?this.$router.push({name:"VideoDetail",params:{id:this.videolistitem.data.id,type:"mv"}}):this.$router.push({name:"VideoDetail",params:{id:this.videolistitem.data.vid,type:"video"}}):this.videolistitem.id?this.$router.push({name:"VideoDetail",params:{id:this.videolistitem.id,type:"mv"}}):this.videolistitem.vid&&(0==this.videolistitem.type?this.$router.push({name:"VideoDetail",params:{id:this.videolistitem.vid,type:"mv"}}):this.$router.push({name:"VideoDetail",params:{id:this.videolistitem.vid,type:"video"}})),this.isShowIcon=!0,this.isShowPlay=!1}}},l=r,d=(e("325a"),e("2877")),c=Object(d["a"])(l,o,n,!1,null,"7b710bec",null),u=c.exports,m={name:"Videolist",components:{VideoListItem:u},props:{videolist:{type:Array,default(){return[]}}}},v=m,h=(e("24d0"),Object(d["a"])(v,s,a,!1,null,"d47e34de",null));i["a"]=h.exports}}]);
//# sourceMappingURL=chunk-53f59ad9.c041d89a.js.map