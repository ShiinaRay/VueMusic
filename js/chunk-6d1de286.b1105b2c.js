(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d1de286"],{"055e":function(t,e,i){"use strict";i("b9d3")},"0fc90":function(t,e,i){},1045:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==t.songlist.length?i("div",{staticClass:"songlist"},[i("div",{staticClass:"song-list"},t._l(t.songlist,(function(t,e){return i("song-list-item",{key:e,attrs:{songlistitem:t}})})),1)]):t._e()},a=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==Object.keys(t.songlistitem).length?i("div",{staticClass:"item",on:{click:t.listItemClick}},[i("div",{staticClass:"item-img",on:{mouseenter:t.showIcon,mouseleave:t.closeIcon}},[i("transition",{attrs:{name:"el-fade-in-linear"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlay,expression:"isShowPlay"}],staticClass:"mask-playicon"},[i("span",{staticClass:"iconfont icon-play"})])]),i("transition",{attrs:{name:"el-zoom-in-top"}},[t.songlistitem.playCount?i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowIcon,expression:"isShowIcon"}],staticClass:"mask1"},[i("span",{staticClass:"iconfont icon-yinle"}),i("span",[t._v(t._s(t._f("formatNum")(t.songlistitem.playCount)))])]):t._e()]),i("transition",{attrs:{name:"el-zoom-in-bottom"}},[t.songlistitem.creator?i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowIcon,expression:"isShowIcon"}],staticClass:"mask2"},[i("span",{staticClass:"iconfont"},[t._v("")]),i("span",[t._v(t._s(t.songlistitem.creator.nickname))])]):t._e()]),i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.showImg,expression:"showImg"}],attrs:{alt:""}})],1),i("div",{staticClass:"item-text"},[i("div",[t._v(t._s(t.songlistitem.name))])])]):t._e()},o=[],r={name:"SongListItem",props:{songlistitem:{type:Object,default(){return{}}}},data(){return{isShowIcon:!0,isShowPlay:!1}},computed:{showImg(){return this.songlistitem.picUrl||this.songlistitem.coverImgUrl}},methods:{showIcon(){this.isShowIcon=!1,this.isShowPlay=!0},closeIcon(){this.isShowIcon=!0,this.isShowPlay=!1},listItemClick(){this.$router.push("/songlistdetail/"+this.songlistitem.id),this.isShowPlay=!1,this.isShowIcon=!0}}},l=r,c=(i("c264"),i("2877")),d=Object(c["a"])(l,n,o,!1,null,"ddd9efac",null),m=d.exports,u={components:{SongListItem:m},name:"SongList",props:{songlist:{type:Array,default(){return[]}}}},v=u,h=(i("055e"),Object(c["a"])(v,s,a,!1,null,"04b93b2e",null));e["a"]=h.exports},"172d":function(t,e,i){"use strict";i("4868")},"1b6d":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"discover"},[i("Banner",{attrs:{banner:t.banner}}),i("Personalized",{attrs:{personalized:t.personalized}}),i("NewMv",{attrs:{newmv:t.newmv}}),i("RecNewSong",{attrs:{newsong:t.newsong}}),i("Privatecontent",{attrs:{privatecontent:t.privatecontent}})],1)},a=[],n=i("1bab");function o(){return Object(n["b"])({url:"/banner"})}function r(t){return Object(n["b"])({url:"/personalized",params:{limit:t,timestamp:Date.parse(new Date)}})}function l(){return Object(n["b"])({url:"/recommend/resource",params:{timestamp:Date.parse(new Date)}})}function c(){return Object(n["b"])({url:"personalized/privatecontent"})}function d(t){return Object(n["b"])({url:"/personalized/newsong",params:{limit:t}})}function m(){return Object(n["b"])({url:"/personalized/mv"})}var u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==t.banner.length?i("div",{staticClass:"banner"},[i("el-carousel",{attrs:{interval:4e3,type:"card",height:"220px"}},t._l(t.banner,(function(e,s){return i("el-carousel-item",{key:s},[i("img",{attrs:{src:e.imageUrl},on:{click:function(i){return t.playMusic(e)}}}),i("div",{staticClass:"title"},[t._v(t._s(e.typeTitle))])])})),1)],1):t._e()},v=[],h=i("5cd6"),p=i("3683"),f={name:"Banner",props:{banner:{type:Array,default(){return[]}}},methods:{playMusic(t){0!=t.targetId&&(1==t.targetType||300==t.typeTitle?(Object(h["d"])(t.targetId).then(t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)}).catch(t=>t),Object(p["a"])(t.targetId).then(t=>{this.$store.dispatch("saveSongDetail",t.data.songs[0]),this.$store.dispatch("addPlayinglist",t.data.songs[0])}).catch(t=>t)):1e3==t.targetType?this.$router.push("/songlistdetail/"+t.targetId):10==t.targetType&&this.$router.push("/albumdetail/"+t.targetId))}}},g=f,w=(i("172d"),i("2877")),y=Object(w["a"])(g,u,v,!1,null,"7d9ce494",null),b=y.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==t.personalized.length?i("div",{staticClass:"personalized"},[i("div",{staticClass:"hd"},[i("el-divider",{attrs:{"content-position":"left"}},[i("h2",[t._v("推荐歌单")])])],1),i("div",{staticClass:"bd"},[i("SongList",{attrs:{songlist:t.personalized}})],1)]):t._e()},C=[],I=i("1045"),S={components:{SongList:I["a"]},name:"Personalized",props:{personalized:{type:Array,default(){return[]}}}},O=S,j=Object(w["a"])(O,_,C,!1,null,"f2f397ae",null),$=j.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==t.privatecontent.length?i("div",{staticClass:"privatecontent"},[i("div",{staticClass:"hd"},[i("el-divider",{attrs:{"content-position":"left"}},[i("h2",[t._v("独家放送")])])],1),i("div",{staticClass:"bd"},t._l(t.privatecontent,(function(e,s){return i("div",{key:s,staticClass:"item",on:{click:function(i){return t.videoItemClick(e.id)}}},[i("div",{staticClass:"item-img"},[i("img",{attrs:{src:e.sPicUrl,alt:""}}),t._m(0,!0)]),i("div",{staticClass:"item-text"},[t._v(" "+t._s(e.name)+" ")])])})),0)]):t._e()},z=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icon"},[i("span",{staticClass:"iconfont icon-play-square"})])}],x={name:"Privatecontent",props:{privatecontent:{type:Array,default(){return[]}}},methods:{videoItemClick(t){this.$router.push({name:"VideoDetail",params:{id:t,type:"mv"}})}}},P=x,D=(i("d63b"),Object(w["a"])(P,k,z,!1,null,"f6d97202",null)),N=D.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==t.newsong.length?i("div",{staticClass:"rec-newsong"},[i("div",{staticClass:"hd"},[i("el-divider",{attrs:{"content-position":"left"}},[i("h2",[t._v("最新音乐")])])],1),i("div",{staticClass:"bd"},t._l(t.newsong,(function(e,s){return i("div",{key:s,staticClass:"item",on:{dblclick:function(i){return t.playMusic(e)}}},[i("div",{staticClass:"item-img",on:{click:function(i){return t.playMusic(e)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl+"?param=80y80",expression:"item.picUrl+'?param=80y80'"}],attrs:{alt:""}}),t._m(0,!0)]),i("div",{staticClass:"item-text"},[i("p",{staticClass:"sname"},[t._v(t._s(e.name))]),i("p",{staticClass:"by"},[t._v(t._s(e.song.artists[0].name))])])])})),0)]):t._e()},E=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icon"},[i("span",{staticClass:"iconfont icon-play1"})])}],V={name:"RecNewSong",props:{newsong:{type:Array,default(){return[]}}},data(){return{songurl:"",song:[]}},methods:{playMusic(t){Object(h["a"])(t.id).then(e=>{Object(h["d"])(t.id).then(t=>{this.songurl=t.data.data[0].url,this.$store.dispatch("saveSongUrl",this.songurl)}),Object(p["a"])(t.id).then(t=>{this.song=t.data.songs[0],this.$store.dispatch("saveSongDetail",this.song),this.$store.dispatch("addPlayinglist",this.song)})}).catch(t=>{this.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0})})}}},U=V,A=(i("d460"),Object(w["a"])(U,L,E,!1,null,"5a1f3138",null)),R=A.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!==t.newmv.length?i("div",{staticClass:"newmv"},[i("div",{staticClass:"hd"},[i("el-divider",{attrs:{"content-position":"left"}},[i("h2",[t._v("最新MV")])])],1),i("div",{staticClass:"bd"},[i("VideoList",{attrs:{videolist:t.newmv}})],1)]):t._e()},T=[],B=i("def2"),q={name:"Newmv",components:{VideoList:B["a"]},props:{newmv:{type:Array,default(){return[]}}},methods:{videoItemClick(t){this.$router.push("/videolistdetail/"+t)}}},J=q,G=Object(w["a"])(J,M,T,!1,null,"0d4a3fbe",null),F=G.exports,H=i("2f62"),K={name:"Discover",components:{Banner:b,Personalized:$,Privatecontent:N,RecNewSong:R,NewMv:F},data(){return{banner:[],personalized:[],privatecontent:[],newsong:[],newmv:[]}},computed:{...Object(H["b"])(["isLogin"])},created(){o().then(t=>{this.banner=t.data.banners}),this.getRecommendBy()},methods:{getRecommendBy(){this.isLogin?l().then(t=>{let e=t.data.recommend,i=18-e.length;r(i).then(t=>{this.personalized=[...e,...t.data.result],this.getRecOther()})}):r(18).then(t=>{this.personalized=t.data.result,this.getRecOther()})},getRecOther(){d(15).then(t=>{this.newsong=t.data.result}).catch(t=>t),c().then(t=>{this.privatecontent=t.data.result}),m().then(t=>{this.newmv=t.data.result})}},watch:{isLogin(){this.getRecommendBy()}}},Q=K,W=Object(w["a"])(Q,s,a,!1,null,"5eb3fccb",null);e["default"]=W.exports},"24d0":function(t,e,i){"use strict";i("380f")},"325a":function(t,e,i){"use strict";i("8da1")},3683:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return r}));var s=i("1bab");function a(t){return Object(s["b"])({url:"/playlist/detail",params:{id:t,timestamp:Date.parse(new Date)}})}function n(t){return Object(s["b"])({url:"/song/detail",params:{ids:t}})}function o(t,e){return Object(s["b"])({url:"/playlist/subscribers",params:{id:t,offset:e,limit:48}})}function r(t,e){return Object(s["b"])({url:"/playlist/subscribe",params:{t:t,id:e,timestamp:Date.parse(new Date)}})}},"380f":function(t,e,i){},4868:function(t,e,i){},"8da1":function(t,e,i){},b9d3:function(t,e,i){},c022:function(t,e,i){},c264:function(t,e,i){"use strict";i("fd5a")},d460:function(t,e,i){"use strict";i("0fc90")},d63b:function(t,e,i){"use strict";i("c022")},def2:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-list"},t._l(t.videolist,(function(t,e){return i("video-list-item",{key:e,attrs:{videolistitem:t}})})),1)},a=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-list-item",on:{click:t.videoItemClick}},[i("div",{staticClass:"item-img",on:{mouseenter:t.showIcon,mouseleave:t.closeIcon}},[i("img",{attrs:{src:t.showImg,alt:""}}),i("transition",{attrs:{name:"el-fade-in-linear"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlay,expression:"isShowPlay"}],staticClass:"mask-playicon"},[i("span",{staticClass:"iconfont icon-play"})])]),i("transition",{attrs:{name:"el-zoom-in-top"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowIcon,expression:"isShowIcon"}],staticClass:"play-icon"},[i("span",{staticClass:"iconfont icon-play-square"}),i("span",[t._v(t._s(t._f("formatNum")(t.videolistitem.playCount||t.videolistitem.playTime||t.videolistitem.data.playTime||t.videolistitem.data.playCount)))])])]),i("transition",{attrs:{name:"el-zoom-in-bottom"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowIcon,expression:"isShowIcon"}],staticClass:"playduration"},[i("span",[t._v(t._s(t._f("formatDuration")(t.videolistitem.duration||t.videolistitem.durationms||t.videolistitem.data.durationms||t.videolistitem.data.duration)))])])])],1),i("div",{staticClass:"item-text"},[i("div",{staticClass:"twoLine"},[t._v(" "+t._s(t.videolistitem.name||t.videolistitem.title||t.videolistitem.data.title||t.videolistitem.data.name)+" ")]),i("div",{staticClass:"by"},[t._v("by"+t._s(t.showAuthor))])])])},o=[],r={name:"VideoListItem",props:{videolistitem:{type:Object,default(){return{}}}},data(){return{isShowIcon:!0,isShowPlay:!1}},computed:{showImg(){return this.videolistitem.cover||this.videolistitem.imgurl16v9||this.videolistitem.picUrl||this.videolistitem.coverUrl||this.videolistitem.data.coverUrl},showAuthor(){return this.videolistitem.id?this.videolistitem.artistName:this.videolistitem.data?this.videolistitem.data.artists?this.videolistitem.data.artists[0].name:this.videolistitem.data.creator.nickname:this.videolistitem.vid?this.videolistitem.creator[0].userName:void 0}},methods:{showIcon(){this.isShowIcon=!1,this.isShowPlay=!0},closeIcon(){this.isShowIcon=!0,this.isShowPlay=!1},videoItemClick(){this.videolistitem.data?0==this.videolistitem.data.videoGroup[0].type?this.$router.push({name:"VideoDetail",params:{id:this.videolistitem.data.id,type:"mv"}}):this.$router.push({name:"VideoDetail",params:{id:this.videolistitem.data.vid,type:"video"}}):this.videolistitem.id?this.$router.push({name:"VideoDetail",params:{id:this.videolistitem.id,type:"mv"}}):this.videolistitem.vid&&(0==this.videolistitem.type?this.$router.push({name:"VideoDetail",params:{id:this.videolistitem.vid,type:"mv"}}):this.$router.push({name:"VideoDetail",params:{id:this.videolistitem.vid,type:"video"}})),this.isShowIcon=!0,this.isShowPlay=!1}}},l=r,c=(i("325a"),i("2877")),d=Object(c["a"])(l,n,o,!1,null,"7b710bec",null),m=d.exports,u={name:"Videolist",components:{VideoListItem:m},props:{videolist:{type:Array,default(){return[]}}}},v=u,h=(i("24d0"),Object(c["a"])(v,s,a,!1,null,"d47e34de",null));e["a"]=h.exports},fd5a:function(t,e,i){}}]);
//# sourceMappingURL=chunk-6d1de286.b1105b2c.js.map