(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e0f6f21"],{"055e":function(t,s,e){"use strict";e("b9d3")},1045:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return 0!==t.songlist.length?e("div",{staticClass:"songlist"},[e("div",{staticClass:"song-list"},t._l(t.songlist,(function(t,s){return e("song-list-item",{key:s,attrs:{songlistitem:t}})})),1)]):t._e()},n=[],i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return 0!==Object.keys(t.songlistitem).length?e("div",{staticClass:"item",on:{click:t.listItemClick}},[e("div",{staticClass:"item-img",on:{mouseenter:t.showIcon,mouseleave:t.closeIcon}},[e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlay,expression:"isShowPlay"}],staticClass:"mask-playicon"},[e("span",{staticClass:"iconfont icon-play"})])]),e("transition",{attrs:{name:"el-zoom-in-top"}},[t.songlistitem.playCount?e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowIcon,expression:"isShowIcon"}],staticClass:"mask1"},[e("span",{staticClass:"iconfont icon-yinle"}),e("span",[t._v(t._s(t._f("formatNum")(t.songlistitem.playCount)))])]):t._e()]),e("transition",{attrs:{name:"el-zoom-in-bottom"}},[t.songlistitem.creator?e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowIcon,expression:"isShowIcon"}],staticClass:"mask2"},[e("span",{staticClass:"iconfont"},[t._v("")]),e("span",[t._v(t._s(t.songlistitem.creator.nickname))])]):t._e()]),e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.showImg,expression:"showImg"}],attrs:{alt:""}})],1),e("div",{staticClass:"item-text"},[e("div",[t._v(t._s(t.songlistitem.name))])])]):t._e()},o=[],l={name:"SongListItem",props:{songlistitem:{type:Object,default(){return{}}}},data(){return{isShowIcon:!0,isShowPlay:!1}},computed:{showImg(){return this.songlistitem.picUrl||this.songlistitem.coverImgUrl}},methods:{showIcon(){this.isShowIcon=!1,this.isShowPlay=!0},closeIcon(){this.isShowIcon=!0,this.isShowPlay=!1},listItemClick(){this.$router.push("/songlistdetail/"+this.songlistitem.id),this.isShowPlay=!1,this.isShowIcon=!0}}},r=l,c=(e("c264"),e("2877")),u=Object(c["a"])(r,i,o,!1,null,"ddd9efac",null),d=u.exports,h={components:{SongListItem:d},name:"SongList",props:{songlist:{type:Array,default(){return[]}}}},m=h,f=(e("055e"),Object(c["a"])(m,a,n,!1,null,"04b93b2e",null));s["a"]=f.exports},3683:function(t,s,e){"use strict";e.d(s,"b",(function(){return n})),e.d(s,"a",(function(){return i})),e.d(s,"c",(function(){return o})),e.d(s,"d",(function(){return l}));var a=e("1bab");function n(t){return Object(a["b"])({url:"/playlist/detail",params:{id:t,timestamp:Date.parse(new Date)}})}function i(t){return Object(a["b"])({url:"/song/detail",params:{ids:t}})}function o(t,s){return Object(a["b"])({url:"/playlist/subscribers",params:{id:t,offset:s,limit:48}})}function l(t,s){return Object(a["b"])({url:"/playlist/subscribe",params:{t:t,id:s,timestamp:Date.parse(new Date)}})}},"45c9":function(t,s,e){},"6d42":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"song-rank"}},[0!=t.rankfeature.length?e("Rankfeature",{attrs:{rankfeature:t.rankfeature}}):t._e(),0!=t.rankglobal.length?e("Rankglobal",{attrs:{rankglobal:t.rankglobal}}):t._e()],1)},n=[],i=e("1bab");function o(){return Object(i["b"])({url:"/toplist"})}var l=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rank-feature"},[e("div",{staticClass:"hd"},[e("el-divider",{attrs:{"content-position":"left"}},[e("h2",[t._v("流行榜")])])],1),t._l(t.rankfeature,(function(t,s){return e("div",{key:s},[e("RankfeatureChild",{attrs:{item:t}})],1)}))],2)},r=[],c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bd"},[e("div",{staticClass:"left-img",on:{click:function(s){return t.rankClick(t.item.id)},mouseenter:t.showIcon,mouseleave:t.closeIcon}},[e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlay,expression:"isShowPlay"}],staticClass:"mask-playicon"},[e("span",{staticClass:"iconfont icon-play"})])]),e("div",{staticClass:"time"},[t._v(t._s(t._f("showDate")(t.item.updateTime))+"更新")]),e("img",{attrs:{src:t.item.coverImgUrl,alt:""}})],1),e("div",{staticClass:"right-songlist"},[0!=t.songs.length?e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{size:"small",data:t.songs,stripe:"","show-header":!1,"row-class-name":t.tableRowClassName},on:{"row-dblclick":t.playMusic}},[e("el-table-column",{attrs:{label:"序号",width:"20"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{class:{hot:s.row.index<3}},[t._v(t._s(t._f("formatIndex")(s.row.index)))])]}}],null,!1,1645131324)}),e("el-table-column",{attrs:{prop:"name",label:"歌曲","show-overflow-tooltip":!0}}),e("el-table-column",{attrs:{prop:"ar[0].name",align:"right",label:"歌手","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",{staticClass:"by"},[t._v(t._s(s.row.ar[0].name))])]}}],null,!1,1488057591)})],1),e("div",{staticClass:"more by",on:{click:function(s){return t.rankClick(t.item.id)}}},[t._v("查看全部"),e("span",{staticClass:"iconfont icon-xiayiye"})])],1):e("div",[e("el-skeleton",{attrs:{rows:6,animated:""}})],1)])])},u=[],d=e("3683"),h=e("5cd6"),m=e("0df0"),f={name:"RankfeatureChild",props:{item:{type:Object,default(){return{}}}},data(){return{isShowPlay:!1,songs:[]}},created(){Object(d["b"])(this.item.id).then(t=>{this.songs=t.data.playlist.tracks.slice(0,5)})},filters:{formatIndex(t){return t+1},showDate(t){const s=new Date(t);return Object(m["a"])(s,"yyyy-MM-dd")}},methods:{rankClick(t){this.$router.push("/songlistdetail/"+t),this.isShowPlay=!1},showIcon(){this.isShowPlay=!0},closeIcon(){this.isShowPlay=!1},playMusic(t){Object(h["a"])(t.id).then(s=>{Object(h["d"])(t.id).then(t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)}),this.$store.dispatch("changePlayState",!0),this.$store.dispatch("saveSongDetail",t),this.$store.dispatch("addPlayinglist",t)}).catch(t=>{this.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0})})},tableRowClassName({row:t,rowIndex:s}){if(t.index=s,s%2!==0)return"rowEven"}}},p=f,w=(e("9064"),e("2877")),g=Object(w["a"])(p,c,u,!1,null,"d412e150",null),v=g.exports,b={name:"Rankfeature",components:{RankfeatureChild:v},props:{rankfeature:{type:Array,default(){return[]}}},data(){return{isShowPlay:!1}},methods:{rankClick(t){this.$router.push("/songlistdetail/"+t)},showIcon(){this.isShowPlay=!0},closeIcon(){this.isShowPlay=!1}}},k=b,y=Object(w["a"])(k,l,r,!1,null,"73d863ee",null),_=y.exports,C=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rank-global"},[e("div",{staticClass:"hd"},[e("el-divider",{attrs:{"content-position":"left"}},[e("h2",[t._v("全球榜")])])],1),e("div",{staticClass:"bd"},[e("SongList",{attrs:{songlist:t.rankglobal}})],1)])},S=[],I=e("1045"),x={components:{SongList:I["a"]},name:"Rankglobal",props:{rankglobal:{type:Array,default(){return[]}}}},j=x,O=Object(w["a"])(j,C,S,!1,null,"c64e99fa",null),P=O.exports,$={name:"Songrank",components:{Rankfeature:_,Rankglobal:P},data(){return{rankfeature:[],rankglobal:[]}},created(){o().then(t=>{let s=t.data.list;this.rankfeature=s.slice(0,4),this.rankglobal=s.slice(4,s.length)})}},R=$,D=Object(w["a"])(R,a,n,!1,null,"2cb44668",null);s["default"]=D.exports},9064:function(t,s,e){"use strict";e("45c9")},b9d3:function(t,s,e){},c264:function(t,s,e){"use strict";e("fd5a")},fd5a:function(t,s,e){}}]);
//# sourceMappingURL=chunk-1e0f6f21.b17b1c55.js.map