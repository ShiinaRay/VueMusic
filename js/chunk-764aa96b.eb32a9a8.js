(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-764aa96b"],{"035f":function(t,e,a){"use strict";a("5514")},2218:function(t,e,a){},2833:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"newsongs"},[a("div",{staticClass:"top-nav"},[a("TabBar",{attrs:{tabitems:t.tabitems},on:{tabItemClick:t.tabItemClick}})],1),a("div",{staticClass:"new-content"},[0==t.activeItem?a("NewMusic"):t._e(),1==t.activeItem?a("NewAlbum"):t._e()],1)])},s=[],n=a("5782"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"newmusic"},[a("div",{staticClass:"hd"},[a("TypeNav",{attrs:{typeitem:t.typeitem},on:{typeItemClick:t.typeItemClick}}),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-video-play"},on:{click:t.playAll}},[t._v("播放全部")]),a("el-button",{attrs:{icon:"el-icon-folder-add",size:"mini"}},[a("span",[t._v("收藏全部")])])],1)],1),a("div",{staticClass:"bd"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"show-header":!1,data:t.musiclist,"row-class-name":t.tableRowClassName,"empty-text":"数据加载中~"},on:{"row-dblclick":t.playMusic}},[a("el-table-column",{attrs:{width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.id==t.nowSongDetail.id?a("span",{staticClass:"iconfont",class:t.isPlaying?" icon-voice":"icon-jingyin_laba"}):a("span",[t._v(t._s(t._f("formatIndex")(e.row.index)))])]}}])}),a("el-table-column",{attrs:{prop:"album.picUrl",label:"封面",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"cover",on:{click:function(a){return t.playMusic(e.row)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.row.album.picUrl+"?param=80y80",expression:"scope.row.album.picUrl + '?param=80y80'"}]}),a("div",{staticClass:"mask"},[a("span",{staticClass:"iconfont icon-play1"})])])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"歌曲",width:"350","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(e.row.name)+" "),0!=e.row.mvid?a("i",{staticClass:"iconfont icon-mv",on:{click:function(a){return t.toMvDetail(e.row.mvid)}}}):t._e()])]}}])}),a("el-table-column",{attrs:{prop:"artists[0].name",label:"歌手",width:"250","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"sthover",on:{click:function(a){return t.toSinger(e.row.artists[0].id)}}},[t._v(" "+t._s(e.row.artists[0].name)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"album.name",label:"专辑",width:"300","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"sthover",on:{click:function(a){return t.toAlbum(e.row.album.id)}}},[t._v(" "+t._s(e.row.album.name)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"duration",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(t._f("formatDuration")(e.row.duration))+" ")])]}}])})],1)],1)])},o=[],c=a("1bab");function r(t){return Object(c["b"])({url:"/top/song",params:{type:t}})}function u(t,e){return Object(c["b"])({url:"/album/new",params:{offset:t,area:e,limit:50}})}var m=a("2f62"),d=a("5cd6"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"type-nav"},[a("el-menu",{attrs:{mode:"horizontal","default-active":t.activeCode}},t._l(t.typeitem,(function(e,i){return a("el-menu-item",{key:i,attrs:{index:e.code},on:{click:function(a){return t.typeItemClick(e.code)}}},[t._v(" "+t._s(e.type)+" ")])})),1)],1)},b=[],h={name:"TypeNav",props:{typeitem:{type:Array,default(){return[]}}},data(){return{activeCode:this.typeitem[0].code}},methods:{typeItemClick(t){this.$emit("typeItemClick",t)}}},f=h,y=(a("344d"),a("2877")),v=Object(y["a"])(f,p,b,!1,null,"1b051d6a",null),w=v.exports,g={name:"NewMusic",components:{TypeNav:w},data(){return{typeitem:[{type:"全部",code:"0"},{type:"华语",code:"7"},{type:"欧美",code:"96"},{type:"日本",code:"8"},{type:"韩国",code:"16"}],musiclist:[]}},created(){this.getNewSongsBy(0)},computed:{...Object(m["b"])(["nowSongDetail","isPlaying"])},filters:{formatIndex(t){return t<9?"0"+(t+1):t+1}},methods:{getNewSongsBy(t){r(t).then(t=>{this.musiclist=t.data.data})},typeItemClick(t){this.activeCode=t,this.getNewSongsBy(t)},playAll(){let t=[];this.musiclist.forEach(e=>{t.push(this.getSongInfo(e))}),this.$store.dispatch("addAllSong",t),Object(d["d"])(t[0].id).then(t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)}),this.$store.dispatch("saveSongDetail",t[0])},getSongInfo(t){let e={al:{},ar:[{}]};return e.id=t.id,e.name=t.name,e.dt=t.duration,e.al.picUrl=t.album.picUrl,e.al.name=t.album.name,e.al.id=t.album.id,e.ar[0].name=t.artists[0].name,e.ar[0].id=t.artists[0].id,0!=t.mvid&&(e.mv=t.mvid),e},playMusic(t){Object(d["a"])(t.id).then(e=>{Object(d["d"])(t.id).then(t=>{this.$store.dispatch("saveSongUrl",t.data.data[0].url)}),this.$store.dispatch("changePlayState",!0),this.$store.dispatch("saveSongDetail",this.getSongInfo(t)),this.$store.dispatch("addPlayinglist",this.getSongInfo(t))}).catch(t=>{this.$message({message:"暂时无法播放，换首试试",type:"warning",center:!0})})},tableRowClassName({row:t,rowIndex:e}){if(t.index=e,e%2!==0)return"rowEven"},toSinger(t){this.$router.push("/singerdetail/"+t)},toAlbum(t){this.$router.push("/albumdetail/"+t)},toMvDetail(t){this.$router.push({name:"VideoDetail",params:{id:t,type:"mv"}})}}},_=g,C=(a("3fad"),Object(y["a"])(_,l,o,!1,null,"5b61a8eb",null)),k=C.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"hd"},[a("TypeNav",{attrs:{typeitem:t.typeitem},on:{typeItemClick:t.typeItemClick}})],1),0!=t.newalbum.length?a("div",{staticClass:"bd"},[a("Albumlist",{attrs:{albumlist:t.newalbum}}),a("Pagination",{attrs:{total:t.albumCount,"page-size":50,"current-page":t.currentPage},on:{handleCurrentChange:t.changAlbumPage}})],1):t._e()])},S=[],A=a("ed90"),N={name:"NewAlbum",components:{TypeNav:w,Albumlist:A["a"]},data(){return{typeitem:[{type:"全部",code:"ALL"},{type:"华语",code:"ZH"},{type:"欧美",code:"EA"},{type:"日本",code:"JP"},{type:"韩国",code:"KR"}],currentArea:"ALL",newalbum:[],albumCount:0,currentPage:1}},created(){this.getNewAlbumBy()},methods:{getNewAlbumBy(t="ALL",e=1){let a=50*(e-1);u(a,t).then(t=>{this.newalbum=t.data.albums,this.albumCount=t.data.total})},typeItemClick(t){this.currentArea=t,this.getNewAlbumBy(t),this.currentPage=1},changAlbumPage(t){this.currentPage=t,this.getNewAlbumBy(this.currentArea,t)}}},x=N,$=(a("3275"),Object(y["a"])(x,I,S,!1,null,"5d9a9298",null)),P=$.exports,j={name:"NewSongs",components:{TabBar:n["a"],NewMusic:k,NewAlbum:P},data(){return{tabitems:[{name:"新歌速递"},{name:"新碟上架"}],activeItem:0}},created(){},methods:{tabItemClick(t){this.activeItem=t}}},O=j,D=(a("035f"),Object(y["a"])(O,i,s,!1,null,"c8810f72",null));e["default"]=D.exports},3275:function(t,e,a){"use strict";a("8c4d")},"344d":function(t,e,a){"use strict";a("2218")},"3fad":function(t,e,a){"use strict";a("ddbb")},5514:function(t,e,a){},"739d":function(t,e,a){"use strict";a("f06e")},"8c4d":function(t,e,a){},"98b4":function(t,e,a){},a005:function(t,e,a){"use strict";a("98b4")},c9cf:function(t,e,a){t.exports=a.p+"img/loading.e03133f9.png"},ddbb:function(t,e,a){},ed90:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"album-list"},t._l(t.albumlist,(function(t,e){return a("AlbumListItem",{key:e,attrs:{albumlistitem:t}})})),1)},s=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item",on:{click:t.listItemClick}},[i("div",{staticClass:"item-img",on:{mouseenter:t.showIcon,mouseleave:t.closeIcon}},[i("transition",{attrs:{name:"el-fade-in-linear"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlay,expression:"isShowPlay"}],staticClass:"album-playicon"},[i("span",{staticClass:"iconfont icon-play1"})])]),i("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],staticClass:"album-img"},[i("img",{attrs:{"data-src":t.cover,"data-loading":a("c9cf")}})]),t.albumlistitem.picUrl?i("img",{staticClass:"record",attrs:{src:a("7478"),alt:""}}):t._e(),t.albumlistitem.picUrl?i("div",{staticClass:"box"}):t._e()],1),i("div",{staticClass:"item-text"},[i("p",{staticClass:"albumName"},[i("span",[t._v(t._s(t.albumlistitem.name))]),t._v(" "),i("span",{staticClass:"by",staticStyle:{"padding-left":"10px"}},[t._v(t._s(t.albumlistitem.artists[0].name))])]),t.albumlistitem.publishTime?i("p",{staticClass:"by publishtime"},[t._v(" "+t._s(t._f("showDate")(t.albumlistitem.publishTime))+" ")]):t._e(),t.albumlistitem.subTime?i("p",{staticClass:"by"},[t._v(" "+t._s(t._f("showDate")(t.albumlistitem.subTime))+" ")]):t._e()])])},l=[],o=a("0df0"),c={name:"AlbumListItem",props:{albumlistitem:{type:Object,default(){return{}}}},data(){return{isShowPlay:!1}},computed:{cover(){return this.albumlistitem.picUrl+"?param=200y200"}},filters:{showDate(t){const e=new Date(t);return Object(o["a"])(e,"yyyy-MM-dd")}},methods:{showIcon(){this.isShowPlay=!0},closeIcon(){this.isShowPlay=!1},listItemClick(){this.$router.push("/albumdetail/"+this.albumlistitem.id),this.isShowPlay=!1}}},r=c,u=(a("739d"),a("2877")),m=Object(u["a"])(r,n,l,!1,null,"3f619878",null),d=m.exports,p={name:"Albumlist",components:{AlbumListItem:d},props:{albumlist:{type:Array,default(){return[]}}}},b=p,h=(a("a005"),Object(u["a"])(b,i,s,!1,null,"4c1ce486",null));e["a"]=h.exports},f06e:function(t,e,a){}}]);
//# sourceMappingURL=chunk-764aa96b.eb32a9a8.js.map