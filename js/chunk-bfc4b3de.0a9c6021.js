(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bfc4b3de"],{"055e":function(t,s,a){"use strict";a("b9d3")},1045:function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return 0!==t.songlist.length?a("div",{staticClass:"songlist"},[a("div",{staticClass:"song-list"},t._l(t.songlist,(function(t,s){return a("song-list-item",{key:s,attrs:{songlistitem:t}})})),1)]):t._e()},e=[],n=function(){var t=this,s=t.$createElement,a=t._self._c||s;return 0!==Object.keys(t.songlistitem).length?a("div",{staticClass:"item",on:{click:t.listItemClick}},[a("div",{staticClass:"item-img",on:{mouseenter:t.showIcon,mouseleave:t.closeIcon}},[a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlay,expression:"isShowPlay"}],staticClass:"mask-playicon"},[a("span",{staticClass:"iconfont icon-play"})])]),a("transition",{attrs:{name:"el-zoom-in-top"}},[t.songlistitem.playCount?a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowIcon,expression:"isShowIcon"}],staticClass:"mask1"},[a("span",{staticClass:"iconfont icon-yinle"}),a("span",[t._v(t._s(t._f("formatNum")(t.songlistitem.playCount)))])]):t._e()]),a("transition",{attrs:{name:"el-zoom-in-bottom"}},[t.songlistitem.creator?a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowIcon,expression:"isShowIcon"}],staticClass:"mask2"},[a("span",{staticClass:"iconfont"},[t._v("")]),a("span",[t._v(t._s(t.songlistitem.creator.nickname))])]):t._e()]),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.showImg,expression:"showImg"}],attrs:{alt:""}})],1),a("div",{staticClass:"item-text"},[a("div",[t._v(t._s(t.songlistitem.name))])])]):t._e()},l=[],o={name:"SongListItem",props:{songlistitem:{type:Object,default(){return{}}}},data(){return{isShowIcon:!0,isShowPlay:!1}},computed:{showImg(){return this.songlistitem.picUrl||this.songlistitem.coverImgUrl}},methods:{showIcon(){this.isShowIcon=!1,this.isShowPlay=!0},closeIcon(){this.isShowIcon=!0,this.isShowPlay=!1},listItemClick(){this.$router.push("/songlistdetail/"+this.songlistitem.id),this.isShowPlay=!1,this.isShowIcon=!0}}},r=o,c=(a("c264"),a("2877")),g=Object(c["a"])(r,n,l,!1,null,"ddd9efac",null),h=g.exports,u={components:{SongListItem:h},name:"SongList",props:{songlist:{type:Array,default(){return[]}}}},d=u,m=(a("055e"),Object(c["a"])(d,i,e,!1,null,"04b93b2e",null));s["a"]=m.exports},"37e6":function(t,s,a){},"4c13":function(t,s,a){},"4de7":function(t,s,a){},"7ccb":function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return 0!==t.allTag.length||0!==t.hotTag.length?a("div",{staticClass:"tags-nav"},[a("div",{staticClass:"tags"},[a("div",{ref:"alltaglist",staticClass:"all",on:{click:t.showAllTag}},[a("span",[t._v(t._s(t.tagTitle)+" "),a("i",{staticClass:"el-icon-arrow-down"})])]),a("transition",{attrs:{name:"el-fade-in"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"all-tag-list"},[a("div",{staticClass:"all-tag"},t._l(t.allTag,(function(s,i){return a("div",{key:i,staticClass:"all-tag-item",on:{click:function(a){return t.tagClickA(s.name,i,s.id)}}},[a("span",{class:{activeAll:t.currentIndexA==i}},[t._v(t._s(s.name))])])})),0)])]),a("div",{staticClass:"hot-tag"},t._l(t.hotTag,(function(s,i){return a("div",{key:i,staticClass:"hot-tag-item",class:{activeHot:t.currentIndexH==i},on:{click:function(a){return t.tagClickH(s.name,i,s.id)}}},[t._v(" "+t._s(s.name)+" ")])})),0)],1)]):t._e()},e=[],n={name:"TagsNav",props:{allTag:{type:Array,default(){return[]}},hotTag:{type:Array,default(){return[]}}},data(){return{isShow:!1,tagTitle:"全部分类",currentIndexA:null,currentIndexH:0}},methods:{showAllTag(){this.isShow=!this.isShow},tagClickA(t,s,a){this.currentIndexA=s,this.$emit("tagClick",t,a);let i=this.hotTag.findIndex(s=>s.name==t);this.currentIndexH=i,this.tagTitle=t},tagClickH(t,s,a){this.currentIndexH=s,this.$emit("tagClick",t,a);let i=this.allTag.findIndex(s=>s.name==t);this.currentIndexA=-1==i?null:i,this.tagTitle=t}},mounted(){document.addEventListener("mouseup",t=>{let s=this.$refs.alltaglist;s&&(s.contains(t.target)||(this.isShow=!1))})}},l=n,o=(a("bcd9"),a("2877")),r=Object(o["a"])(l,i,e,!1,null,"7978fc36",null);s["a"]=r.exports},"81c8":function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"recsong-list"}},[a("Topsonglist",{attrs:{topsonglist:t.topsonglist}}),a("div",{ref:"tagsnav",staticClass:"tagsnav"},[a("TagsNav",{attrs:{allTag:t.allTag,hotTag:t.hotTag},on:{tagClick:t.tagClick}})],1),a("div",{staticClass:"songlist"},[a("SongList",{attrs:{songlist:t.songlist}})],1),a("Pagination",{attrs:{total:t.songlistCount,"page-size":48,"current-page":t.currentPage,"scroll-top":!1},on:{handleCurrentChange:t.handleCurrentChange}})],1)},e=[],n=a("1bab");function l(){return Object(n["b"])({url:"/playlist/highquality/tags"})}function o(t){return Object(n["b"])({url:"/top/playlist/highquality",params:{cat:t,limit:1}})}function r(){return Object(n["b"])({url:"/playlist/catlist"})}function c(){return Object(n["b"])({url:"/playlist/hot"})}function g(t,s){return Object(n["b"])({url:"/top/playlist",params:{cat:t,offset:s,limit:48}})}var h=a("92ee"),u=function(){var t=this,s=t.$createElement,a=t._self._c||s;return 0!==t.topsonglist.length?a("div",{staticClass:"topsonglist",on:{mouseover:t.showPlay,mouseleave:t.closePlay,click:t.topSongClick}},[a("div",{staticClass:"image"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.topsonglist[0].coverImgUrl+"?param=200y200",expression:"topsonglist[0].coverImgUrl + '?param=200y200'"}]}),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlay,expression:"isShowPlay"}],staticClass:"mask-playicon"},[a("span",{staticClass:"iconfont icon-play"})])])],1),a("div",{staticClass:"info"},[a("div",{staticClass:"hd"},[a("el-divider",{attrs:{"content-position":"left"}},[a("h2",[t._v("精品歌单")])])],1),a("div",{staticClass:"title"},[t._v(" "+t._s(t.topsonglist[0].name)+" ")]),a("div",{staticClass:"desc"},[t._v(" "+t._s(t.topsonglist[0].description)+" ")])])]):t._e()},d=[],m={name:"Topsonglist",props:{topsonglist:{type:Array,default(){return[]}}},data(){return{isShowPlay:!1}},methods:{showPlay(){this.isShowPlay=!0},closePlay(){this.isShowPlay=!1},topSongClick(){this.$router.push("/songlistdetail/"+this.topsonglist[0].id)}}},p=m,v=(a("8e5a"),a("2877")),f=Object(v["a"])(p,u,d,!1,null,"49b2479b",null),y=f.exports,w=a("1045"),C=a("7ccb"),b={naem:"Recsonglist",components:{Topsonglist:y,SongList:w["a"],TagsNav:C["a"]},data(){return{tags:[],topsonglist:[],allTag:[],hotTag:[],songlist:[],songlistCount:0,currentPage:1,tagName:"华语",page:1}},created(){this.getAllTagBy(),this.getHotTagBy(),this.getTopHighQualityRandom(),this.getSongListBy(this.tagName,this.page)},methods:{getAllTagBy(){r().then(t=>{this.allTag=t.data.sub})},getHotTagBy(){c().then(t=>{this.hotTag=t.data.tags})},getTopHighQualityRandom(){l().then(t=>{this.tags=t.data.tags;let s=this.tags[Object(h["a"])(0,this.tags.length)].name;o(s).then(t=>{this.topsonglist=t.data.playlists})})},getSongListBy(t,s){let a=48*(s-1);g(t,a).then(t=>{this.songlist=t.data.playlists,this.songlistCount=t.data.total})},tagClick(t){this.tagName=t,this.tags.find(s=>s.name==t)&&o(t,1).then(t=>{this.topsonglist=t.data.playlists}),this.getSongListBy(t,this.page),this.currentPage=1},handleCurrentChange(t){this.currentPage=t,this.getSongListBy(this.tagName,t);let s=document.querySelector(".view");s.scrollTo({top:this.$refs.tagsnav.offsetTop-this.$refs.tagsnav.offsetHeight})}}},_=b,S=(a("d93b"),Object(v["a"])(_,i,e,!1,null,"da190dae",null));s["default"]=S.exports},"8e5a":function(t,s,a){"use strict";a("37e6")},b9d3:function(t,s,a){},bcd9:function(t,s,a){"use strict";a("4c13")},c264:function(t,s,a){"use strict";a("fd5a")},d93b:function(t,s,a){"use strict";a("4de7")},fd5a:function(t,s,a){}}]);
//# sourceMappingURL=chunk-bfc4b3de.0a9c6021.js.map